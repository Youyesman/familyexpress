{% load static %}

<!DOCTYPE html>
<html lang="en">
{% include 'head.html' %}


<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        {% include 'sidebar.html'%}
        <!-- Content Wrapper -->

        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                {% include 'topbar.html'%}

                <!-- Begin Page Content -->
                <div class="container-fluid">


                    <!-- Page Heading -->
                    <h1 class="h3 mb-4 text-gray-800">Board</h1>


                    <div class="row">

                        <div class="col-lg-12">

                            <!-- Circle Buttons -->
                            <div class="card shadow mb-4">
                                <div class="card-header py-3">

                                    <div style="float: right;"><a href="{% url 'post_insert' %}"><button type="button"
                                                class="btn btn-success">New</button></a></div>
                                </div>
                                <table class="table table-bordered"  width="90%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">No.</th>
                                            <th style="text-align: center; width: 50%">Title</th>
                                            <th style="text-align: center;">Writer</th>
                                            <th style="text-align: center;">Created at</th>
                                            <th style="text-align: center;">Update</th>
                                            <th style="text-align: center;">Delete</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            {% for post in page.object_list %}

                                            <td style="text-align: center;">{{post.id}}</td>
                                            <td style="text-align: center;"><a
                                                    href="{%url 'posting' post.id %}">{{post.Title}}</a></td>
                                            <td style="text-align: center;">{{post.username}}</td>
                                            <td style="text-align: center;">{{post.created_at}}</td>
                                            <td style="text-align: center">
                                                <a href="{% url 'post_update' post.id %}">
                                                  <button type="button" class="btn btn-warning btn-circle btn-sm" id="update">
                                                    <i class="fas fa-pen"></i></button></a>
                                              </td>
                                            <td style="text-align: center;">
                                                <form action="{% url 'post_delete' post.id %}" method="post"
                                                    class="d-inline">
                                                    {% csrf_token %}
                                                    <button type="submit" class="btn btn-danger btn-circle btn-sm"
                                                        id="delete">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </form>
                                            </td>
                                            
                                        </tr>
                                    </tbody>
                                    {% endfor %}

                                </table>

                                <br>

                                <div style="display: flex;">
                                    <div style="margin: auto;">
                                        <ul class="pagination">
                                            {% if page.has_previous %}
                                            <a href="?page={{page.previous_page_number}}">Prev &nbsp </a>
                                            {% endif %}
                                            <p>Page {{page.number}} of {{page.paginator.num_pages}}</p> 
                                            {% if page.has_next %}
                                            <a href="?page={{page.next_page_number}}"> &nbsp Next</a>
                                            {% endif %}
                                        </ul>
                                    </div>
                                </div>



                            </div>

                        </div>


                    </div>

                </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            {% include 'footer.html'%}

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    {%include 'modal.html'%}




    <!-- Bootstrap core JavaScript-->
    <script src="/static/vendor/jquery/jquery.min.js"></script>
    <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="/static/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="/static/js/sb-admin-2.min.js"></script>
    <script src="https://kit.fontawesome.com/999e0851cc.js" crossorigin="anonymous"></script>

    <!-- Page level plugins -->
    <script src="/static/vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="/static/vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="/static/js/demo/datatables-demo.js"></script>



</body>


</html>